# מסמך בדיקות QA - אפליקציה לניהול מצב רוח (MOODS)

## גרסה: 1.0.0 - Beta
## תאריך: 21/12/2024

---

## 1. סקירה כללית

**MOODS** היא אפליקציה לניהול ומעקב אחר מצבי רוח ורווחה נפשית. המערכת מאפשרת למשתמשים:
- לדווח על מצב רוח יומי עם מדדים מותאמים אישית
- לצפות בגרפים ואנליטיקה של המגמות שלהם
- לתקשר עם מטפל ולנהל פגישות
- לייצא נתונים בפורמטים שונים

**טכנולוגיות:**
- Next.js 14 (App Router)
- Supabase (Database + Auth)
- Tailwind CSS + shadcn/ui
- Recharts לגרפים
- Resend לשליחת מיילים

---

## 2. דרישות מקדימות לבדיקה

### 2.1 סביבת הפיתוח
- Node.js 18+
- דפדפנים נתמכים: Chrome, Safari, Firefox, Edge (גרסאות אחרונות)
- רזולוציות לבדיקה:
  - מובייל: 375px - 428px
  - טאבלט: 768px - 1024px
  - דסקטופ: 1280px - 1920px

### 2.2 חשבונות לבדיקה
יש ליצור לפחות 3 חשבונות משתמש שונים לבדיקות.

### 2.3 נתונים לבדיקה
יש להזין לפחות 10-15 דיווחים במגוון תאריכים כדי לבדוק:
- גרפים עם נתונים אמיתיים
- חישובים סטטיסטיים
- מגמות וטרנדים

---

## 3. זרימות עיקריות לבדיקה

### 3.1 זרימת הרשמה והתחברות

**מקרה 1: הרשמה חדשה**
1. גש לדף הבית (/)
2. לחץ על "הירשם"
3. הזן מייל וסיסמה חזקה (8+ תווים)
4. אשר את ההרשמה
5. **תוצאה צפויה:** מעבר לדשבורד אחרי התחברות אוטומטית

**מקרה 2: התחברות למשתמש קיים**
1. גש לדף הבית (/)
2. לחץ על "התחבר"
3. הזן מייל וסיסמה
4. **תוצאה צפויה:** מעבר לדשבורד

**מקרה 3: שגיאות התחברות**
- נסה להתחבר עם סיסמה שגויה → הצג הודעת שגיאה
- נסה להירשם עם מייל קיים → הצג הודעת שגיאה
- נסה סיסמה חלשה → הצג הודעת שגיאה

---

### 3.2 דיווח מצב רוח

**מקרה 4: דיווח בסיסי**
1. התחבר לדשבורד
2. לחץ על טאב "דיווח"
3. לחץ על "דווח על מצב רוח"
4. הזז את 3 הסליידרים (מצב רוח, אנרגיה, לחץ)
5. כתוב הערה (אופציונלי)
6. לחץ "שמור דיווח"
7. **תוצאה צפויה:** הודעת הצלחה + חזרה לדשבורד

**מקרה 5: הוספת מדד מותאם אישית**
1. בדיאלוג "הוסף מדד למעקב"
2. פתח את "צור מדד משלך"
3. הזן שם למדד (לדוגמה: "שינה")
4. הזז את הסליידר
5. לחץ "הוסף"
6. **תוצאה צפויה:** המדד מתווסף לרשימה

**מקרה 6: שימוש במדד מוכן**
1. בדיאלוג "הוסף מדד למעקב"
2. לחץ על "מדדים מוכנים"
3. בחר מדד מהרשימה (שינה, תיאבון, כאב וכו')
4. **תוצאה צפויה:** המדד מתווסף עם התיאור המתאים

**מקרה 7: מחיקת מדד**
1. לחץ על X ליד מדד שהוספת
2. **תוצאה צפויה:** המדד נמחק מהרשימה

---

### 3.3 צפייה בגרפים וניתוח

**מקרה 8: צפייה בגרפים**
1. התחבר לדשבורד
2. עבור לטאב "ניתוח"
3. בדוק שכל 4 הגרפים מוצגים:
   - מעקב מצב רוח לאורך זמן
   - שיכלול כולל - מעקב לאורך זמן
   - השוואת מדדים
   - ממוצעים שבועיים
4. **תוצאה צפויה:** גרפים מוצגים עם נתונים אמיתיים

**מקרה 9: סינון לפי תקופה**
1. בטאב "ניתוח"
2. בחר תקופה: 7 ימים / 14 ימים / 30 ימים / הכל
3. **תוצאה צפויה:** הגרפים מתעדכנים לפי התקופה שנבחרה

**מקרה 10: גרפים מותאמים אישית**
1. אם יצרת מדדים מותאמים אישית בדיווחים
2. גלול למטה בטאב "ניתוח"
3. **תוצאה צפויה:** גרף נפרד לכל מדד מותאם אישית

**מקרה 11: היסטוריה מלאה**
1. בטאב "ניתוח", גלול למטה
2. לחץ על "היסטוריה מלאה"
3. פתח רשומה בודדת
4. **תוצאה צפויה:** פרטי הדיווח המלאים כולל כל המדדים

**מקרה 12: היסטוריית הערות**
1. גלול לתחתית טאב "ניתוח"
2. לחץ על "היסטוריית הערות"
3. **תוצאה צפויה:** רשימה של כל הדיווחים שיש בהם הערות

---

### 3.4 ניהול קשר עם מטפל

**מקרה 13: הוספת פרטי מטפל**
1. עבור לטאב "קשר"
2. גלול ל"פרטי המטפל שלך"
3. הזן שם, מייל וטלפון
4. לחץ "שמור פרטים"
5. **תוצאה צפויה:** הודעת הצלחה + הפרטים נשמרים

**מקרה 14: שליחת מייל למטפל**
1. וודא שיש פרטי מטפל שמורים
2. לחץ על כפתור "מייל"
3. כתוב הודעה
4. לחץ "שלח"
5. **תוצאה צפויה:** הודעת הצלחה + מייל נשלח (בדוק בתיבת הדואר של המטפל)

**מקרה 15: חיוג למטפל**
1. במובייל, לחץ על כפתור "חייג"
2. **תוצאה צפויה:** נפתח דיאלר עם המספר מוכן

**מקרה 16: כפתור חירום**
1. לחץ על כפתור "חירום!" האדום בחלק העליון
2. **תוצאה צפויה:** מוצגים מספרי חירום (ער"ן, סה"ר וכו')

**מקרה 17: ניהול משימות**
1. בקטע "משימות ותרגילים"
2. הזן משימה חדשה
3. לחץ "הוסף משימה"
4. סמן משימה כהושלמה
5. מחק משימה
6. **תוצאה צפויה:** כל הפעולות פועלות ונשמרות

**מקרה 18: ניהול פגישות**
1. בקטע "פגישות קרובות"
2. הזן תאריך ושעה
3. לחץ "הוסף פגישה"
4. מחק פגישה
5. **תוצאה צפויה:** כל הפעולות פועלות ונשמרות

---

### 3.5 הגדרות וניהול חשבון

**מקרה 19: עדכון פרטי חשבון**
1. עבור לטאב "הגדרות"
2. פתח "פרטי חשבון"
3. שנה שם וכתובת מייל
4. לחץ "שמור שינויים"
5. **תוצאה צפויה:** הודעת הצלחה + הפרטים מתעדכנים

**מקרה 20: שינוי סיסמה**
1. בפרטי חשבון
2. הזן סיסמה נוכחית וסיסמה חדשה
3. לחץ "שנה סיסמה"
4. **תוצאה צפויה:** הודעת הצלחה + התנתקות אוטומטית

**מקרה 21: הפעלת התראות**
1. פתח "התראות"
2. הפעל/כבה התראות יומיות
3. בחר שעה להתראה
4. **תוצאה צפויה:** ההגדרות נשמרות

**מקרה 22: ייצוא נתונים - CSV**
1. פתח "פרטיות ואבטחה"
2. לחץ "ייצא נתונים"
3. בחר "CSV"
4. לחץ "הורד"
5. **תוצאה צפויה:** קובץ CSV מתחיל להוריד עם כל הנתונים

**מקרה 23: ייצוא נתונים - JSON**
1. בדיאלוג ייצוא נתונים
2. בחר "JSON"
3. לחץ "הורד"
4. **תוצאה צפויה:** קובץ JSON מתחיל להוריד עם כל הנתונים

**מקרה 24: ייצוא נתונים - PDF**
1. בדיאלוג ייצוא נתונים
2. בחר "PDF"
3. לחץ "יצר PDF"
4. **תוצאה צפויה:** נפתח חלון הדפסה עם דוח מעוצב

**מקרה 25: איפוס כל הנתונים**
1. בפרטיות ואבטחה
2. לחץ "אפס את כל הנתונים"
3. אשר במודאל
4. **תוצאה צפויה:** כל הדיווחים נמחקים + הודעת אישור

**מקרה 26: התנתקות**
1. לחץ על פרופיל בפינה ימין למעלה
2. לחץ "התנתק"
3. **תוצאה צפויה:** מעבר לדף הבית + ניתוק מהמערכת

---

### 3.6 לוח בקרה ומזג אוויר רגשי

**מקרה 27: צפייה בלוח בקרה**
1. התחבר לדשבורד
2. צפה בכרטיסי לוח הבקרה:
   - מזג אוויר רגשי (עם אייקונים)
   - רצף ימים
   - חלון זמן אידיאלי
   - השוואה שבועית
   - השוואה חודשית
3. **תוצאה צפויה:** כל הכרטיסים מוצגים עם חישובים נכונים

**מקרה 28: בדיקת מזג אוויר רגשי**
1. צור דיווחים עם ערכים גבוהים (8-10)
2. רענן את הדשבורד
3. **תוצאה צפויה:** אייקון שמש ☀️ + טקסט "שמש"
4. צור דיווחים עם ערכים נמוכים (1-3)
5. רענן את הדשבורד
6. **תוצאה צפויה:** אייקון גשם 🌧️ + טקסט "גשם"

---

## 4. בדיקות ממשק משתמש (UI/UX)

### 4.1 עיצוב כללי
- [ ] כל הטקסטים בעברית וממורכזים RTL
- [ ] פונט Heebo נטען כראוי
- [ ] כל הכותרות ממורכזות
- [ ] צבעי הנושא (ירוק-כהול) מוחלים בכל העמודים
- [ ] מצב כהה ומצב בהיר עובדים היטב
- [ ] מעבר בין מצב כהה לבהיר חלק ללא בעיות

### 4.2 רספונסיביות
**מובייל (375px-428px)**
- [ ] ניווט תחתון קבוע מוצג ופונקציונלי
- [ ] כותרת sticky בחלק העליון
- [ ] כל הכפתורים נגישים ובגודל מתאים
- [ ] גרפים מוצגים נכון ללא גלילה אופקית
- [ ] אקורדיאונים נפתחים ונסגרים כראוי

**טאבלט (768px-1024px)**
- [ ] פריסת 2 עמודות עובדת
- [ ] ניווט עליון מוצג במקום תחתון
- [ ] כל הטפסים קריאים ונוחים למילוי

**דסקטופ (1280px+)**
- [ ] פריסה של גרפים בגודל מלא
- [ ] כל האלמנטים מרווחים כראוי
- [ ] אין גלילה אופקית

### 4.3 אנימציות ואפקטים
- [ ] מעברים בין טאבים חלקים
- [ ] כפתורים מגיבים ללחיצה (אפקט hover)
- [ ] אקורדיאונים נפתחים עם אנימציה חלקה
- [ ] דיאלוגים נפתחים עם fade-in
- [ ] tooltips בגרפים עובדים ומוצגים כראוי

---

## 5. בדיקות פונקציונליות מתקדמות

### 5.1 אבטחה ופרטיות
- [ ] לא ניתן לגשת לדשבורד ללא התחברות
- [ ] משתמש רואה רק את הנתונים שלו
- [ ] סיסמאות מוצפנות (לא נשמרות בטקסט פשוט)
- [ ] אין דליפת מידע בין משתמשים
- [ ] Row Level Security (RLS) פועל ב-Supabase

### 5.2 ביצועים
- [ ] טעינת דף הבית מהירה (פחות מ-2 שניות)
- [ ] טעינת גרפים חלקה ללא lag
- [ ] שמירת דיווח מהירה (פחות משנייה)
- [ ] אין בעיות זיכרון בדפדפן
- [ ] אפליקציה עובדת חלק גם עם 100+ דיווחים

### 5.3 טיפול בשגיאות
- [ ] אובדן חיבור לאינטרנט - הודעה ברורה
- [ ] שגיאת שרת - הודעת שגיאה ידידותית
- [ ] שדה ריק בטופס - הודעת validation
- [ ] נתונים לא תקינים - טיפול נכון
- [ ] מייל לא חוקי - הודעת שגיאה

### 5.4 תאימות דפדפנים
- [ ] Chrome (Windows/Mac)
- [ ] Safari (Mac/iOS)
- [ ] Firefox (Windows/Mac)
- [ ] Edge (Windows)
- [ ] Mobile Safari (iOS)
- [ ] Chrome Mobile (Android)

---

## 6. בדיקות אינטגרציה

### 6.1 Supabase
- [ ] התחברות והרשמה עובדים
- [ ] שמירת נתונים לדאטה בייס
- [ ] שליפת נתונים מהדאטה בייס
- [ ] עדכון נתונים
- [ ] מחיקת נתונים
- [ ] RLS policies מגנים על המידע

### 6.2 Resend (מיילים)
- [ ] שליחת מייל למטפל עובדת
- [ ] המייל מגיע לתיבת הדואר
- [ ] עיצוב המייל תקין
- [ ] תמיכה ב-RTL במייל
- [ ] טיפול בשגיאות שליחה

### 6.3 PDF Generation
- [ ] יצירת PDF עם הדפסה עובדת
- [ ] עיצוב PDF תקין
- [ ] כל הנתונים מוצגים
- [ ] תמיכה ב-RTL ב-PDF

---

## 7. בעיות ידועות ומגבלות

### 7.1 מגבלות טכניות
- **מיילים**: כרגע עובד עם `onboarding@resend.dev`. לייצור צריך דומיין מאומת.
- **PWA**: האפליקציה לא מותקנת כ-PWA מלא (אפשר להוסיף manifest.json).
- **התראות**: התראות יומיות עדיין לא מיושמות (רק הגדרות).
- **שפות**: תמיכה בעברית בלבד כרגע.

### 7.2 בעיות ידועות
- אין כרגע אף בעיה קריטית ידועה

### 7.3 תכונות שלא מיושמות
- התראות push למובייל
- מצב offline
- סנכרון בין מכשירים (עובד אבל לא אופטימלי)
- אינטגרציה עם WhatsApp Business API

---

## 8. רשימת בדיקות (Checklist) - סיכום

### הכרחי לפני השקה
- [ ] כל 28 מקרי הבדיקה הראשיים עוברים בהצלחה
- [ ] בדיקה בלפחות 3 דפדפנים שונים
- [ ] בדיקה במובייל (iOS + Android)
- [ ] הרצת סקריפט SQL להוספת עמודת email
- [ ] אימות דומיין ב-Resend לשליחת מיילים
- [ ] בדיקת אבטחה - RLS policies פועלים
- [ ] יצירת 3 חשבונות משתמש לדוגמה עם 10-15 דיווחים כל אחד

### מומלץ לפני השקה
- [ ] בדיקת עומסים עם 10+ משתמשים במקביל
- [ ] בדיקת ביצועים עם 100+ דיווחים
- [ ] תיקון כל בעיות UI/UX קטנות שנמצאו
- [ ] הוספת אנליטיקס (Google Analytics / Vercel Analytics)

---

## 9. צור קשר לדיווח על באגים

**במהלך הבדיקה, אנא תעד:**
1. צילום מסך של הבעיה
2. שלבים לשחזור הבעיה
3. דפדפן ומערכת הפעלה
4. תוצאה צפויה vs תוצאה בפועל
5. רמת חומרה: קריטי / גבוה / בינוני / נמוך

---

**סיום מסמך QA**  
**גרסה 1.0.0 - 21/12/2024**
